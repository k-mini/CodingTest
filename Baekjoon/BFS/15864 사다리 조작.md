
# ğŸ“š ì‚¬ë‹¤ë¦¬ ì¡°ì‘

## ğŸ“Œ [ë¬¸ì œë§í¬](https://www.acmicpc.net/problem/15684)

### ë¬¸ì œ ìš”ì•½

- ì‚¬ë‹¤ë¦¬ ê²Œì„ì€ Nê°œì˜ ì„¸ë¡œì„ ê³¼ Mê°œì˜ ê°€ë¡œì„ ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.
- ì¸ì ‘í•œ ì„¸ë¡œì„  ì‚¬ì´ì— ê°€ë¡œì„ ì„ ë†“ì„ ìˆ˜ ìˆë‹¤.
- ë‘ ê°€ë¡œì„ ì´ ì—°ì†í•˜ê±°ë‚˜ ì„œë¡œ ì ‘í•˜ë©´ ì•ˆëœë‹¤. ê°€ë¡œì„ ì€ ì ì„  ìœ„ì— ìˆì–´ì•¼ í•œë‹¤.
- ì‚¬ë‹¤ë¦¬ì— ê°€ë¡œì„ ì„ ì¶”ê°€í•´ì„œ, ië²ˆ ì„¸ë¡œì„ ì˜ ê²°ê³¼ê°€ ië²ˆì— ë‚˜ì˜¤ê²Œ í•˜ë ¤ê³  í•œë‹¤.
- ì¶”ê°€í•´ì•¼í•  ê°€ë¡œì„  ê°œìˆ˜ì˜ ìµœì†Ÿê°’ì„ êµ¬í•´ë¼.

### ë¬¸ì œ í’€ì´

- ìµœì†Ÿê°’ì„ êµ¬í•´ì•¼ í•˜ëŠ”ë° ì¬ê·€í˜¸ì¶œì„ ì´ìš©í•œ dfsíƒìƒ‰ì„ ì‚¬ìš©í•˜ë©´ ëª¨ë“  ê²½ìš°ë¥¼ íƒìƒ‰í•´ì•¼ í•˜ë¯€ë¡œ ì‹œê°„ì´ˆê³¼ê°€ ë°œìƒí•œë‹¤.
- ë”°ë¼ì„œ íë¥¼ ì´ìš©í•œ bfsíƒìƒ‰ì„ ì§„í–‰í•´ì•¼ í•œë‹¤.

- ì‹œê°„ ì´ˆê³¼ ë°œìƒí•œ ì½”ë“œ

```
import sys
input = sys.stdin.readline

n,m,h = map(int,input().split()) # ì„¸ë¡œì„ ì˜ ê°œìˆ˜, ê°€ë¡œì„ ì˜ ê°œìˆ˜, ê°€ë¡œì„ ì„ ë†“ì„ ìˆ˜ ìˆëŠ” ìœ„ì¹˜
l_set = set()
INF = 1e10
answer = INF
for _ in range(m):
    a,b = map(int,input().split())
    l_set.add((a,b)) # bë²ˆ ì„¸ë¡œì„ ì—ì„œ aë²ˆ ì ì„ ìœ„ì¹˜
    
# ì‚¬ë‹¤ë¦¬ ì—°ì†ë˜ì–´ ìˆëŠ”ì§€ ì¡°ì‚¬
def test(x,y):
    # ì—°ì†ëœ ê°€ë¡œì„ ì´ ìˆëŠ”ì§€ ì¡°ì‚¬
    if (x,y+1) in l_set or (x,y-1) in l_set or (x,y) in l_set:
        return False
    else:
        return True

# iê°€ ië¡œ ê°€ëŠ”ì§€ ê²€ì‚¬
def possible():
    
    for y in range(1,n+1):
        result = move(1,y)
        if result != y:
            return False
    return True

# ì‚¬ë‹¤ë¦¬ ì´ë™ í•¨ìˆ˜
def move(x,y):
    if x == h+1:
        return y
    else:
        if (x,y) in l_set:
            return move(x+1,y+1)
        elif (x,y-1) in l_set:
            return move(x+1,y-1)
        else:
            return move(x+1,y)
    
def dfs(cnt):
    global l_set,answer
    if cnt > 3: # 3ê°œ ì´ìƒì´ë©´ -1 ì¶œë ¥
        return
    # iê°€ ië¡œ ê°€ëŠ”ì§€ ê²€ì‚¬
    if possible():
        answer = min(cnt,answer)
    
    # ì‚¬ë‹¤ë¦¬ ë†“ê¸°
    for i in range(1,h+1):
        for j in range(1,n):
            
            if test(i,j):
                l_set.add((i,j))
                dfs(cnt+1)
                l_set.remove((i,j))
            
dfs(0)# ìˆ«ìëŠ” ê°€ë¡œì„ ì„ ë†“ì€ ê°œìˆ˜
print(answer if answer != INF else -1)
```


