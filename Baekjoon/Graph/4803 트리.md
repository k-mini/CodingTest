
# ğŸ“š íŠ¸ë¦¬

## ğŸ“Œ [ë¬¸ì œë§í¬](https://www.acmicpc.net/problem/4803)

### ë¬¸ì œ í•´ì„¤

- ì…ë ¥ì€ ì—¬ëŸ¬ ê°œì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.
- ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ì²«ì§¸ ì¤„ì—ëŠ” ë…¸ë“œì˜ ê°œìˆ˜ì™€ ê°„ì„ ì˜ ê°¯ìˆ˜ê°€ ì£¼ì–´ì§€ê³ , ê·¸ ì´í›„ ê°„ì„ ì˜ ê°œìˆ˜ë§Œí¼ ê°„ì„ ì •ë³´ê°€ ì£¼ì–´ì§„ë‹¤.
- ì…ë ¥ì˜ ë§ˆì§€ë§‰ ì¤„ì—ëŠ” 0ì´ ë‘ ê°œ ì£¼ì–´ì§„ë‹¤.
- ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§ˆë‹¤ íŠ¸ë¦¬ì˜ ê°œìˆ˜ë¥¼ êµ¬í•˜ëŠ” ë¬¸ì œ.

### ë¬¸ì œ í’€ì´

- ì…ë ¥ ë¬¸ì œë¡œ ì• ë¥¼ ë§ì´ ë¨¹ì—ˆë‹¤.
- bfs íƒìƒ‰ìœ¼ë¡œ í’€ì—ˆë‹¤.
- ê·¸ë˜í”„ íŒë³„ ê¸°ì¤€ì€ íƒìƒ‰ì„ ì§„í–‰í•  ë•Œë§ˆë‹¤. ë°©ë¬¸í•˜ëŠ” ë…¸ë“œê°€ ì´ë¯¸ ë°©ë¬¸í–ˆë˜ ë°”ë¡œ ì§ì „ë…¸ë“œê°€ ì•„ë‹ˆë©´ ê·¸ë˜í”„ì´ë‹¤.

```
import sys
from collections import deque
input = sys.stdin.readline
case = 0

while True:
    n,m = map(int,input().split())
    if n == 0 and m == 0: break
    answer = 0
    case += 1
    graph = [ [] for _ in range(n+1) ]
    visited = [ False ] * (n+1)
    for _ in range(m):
        a,b = map(int,input().rstrip().split())
        graph[a].append(b)
        graph[b].append(a)
    
    for i in range(1,n+1):
        if not visited[i]:
            visited[i] = True
            flag = False
            q = deque()
            q.append((-1,i))
            
            while q:
                prev,now = q.popleft()
                
                for nxt in graph[now]:
                    if visited[nxt] == True and prev != nxt:
                        flag = True
                    if not visited[nxt]:
                        visited[nxt] = True
                        q.append((now,nxt))
            if flag:
                continue
            else:
                answer += 1

    if answer == 0:
        print(f'Case {case}: No trees.')
    elif answer == 1:
        print(f'Case {case}: There is one tree.')
    else :
        print(f'Case {case}: A forest of {answer} trees.')
```

- ë‹¤ë¥¸ ì‚¬ëŒì˜ í’€ì´
- ë°©ë¬¸ ì²˜ë¦¬ë¥¼ í•´ë‹¹ ë…¸ë“œë¥¼ ë°©ë¬¸í•  ë•Œ í•œë‹¤.
- ë§Œì•½ íŠ¸ë¦¬ê°€ ì•„ë‹Œ ì‚¬ì´í´ì´ ìˆëŠ” ê·¸ë˜í”„ë©´, í•„ì—°ì ìœ¼ë¡œ ì–‘ ë°©í–¥ì—ì„œ ì§„í–‰í•˜ê²Œ ë˜ë¯€ë¡œ íŠ¹ì • ë…¸ë“œëŠ” ë¬´ì¡°ê±´ 2ë²ˆ ë°©ë¬¸ì²˜ë¦¬ ëœë‹¤.
ex) 1 -> 2 -> 3 -> 1ì˜ ìˆœí™˜ êµ¬ì¡°ë©´, 1(2,3ì¶”ê°€)-> 2(3ì¶”ê°€) -> 3(ì§„í–‰í•  ë…¸ë“œ ì—†ìŒ) -> 3(2ë²ˆ ë°©ë¬¸. ë”°ë¼ì„œ íŠ¸ë¦¬ ì•„ë‹˜) 

```
import sys
from collections import defaultdict
def check(j):
	ret = True
	queue = [j]
	while queue:
		a = queue.pop()
		if visit[a] == 1:  # ì‚¬ì´í´
			ret = False
		visit[a] = 1
		for k in dic[a]:
			if k == a:  
				ret =  False
			if visit[k] == 0:
				queue.append(k)
	return ret
    
cnt = 0
while 1:
	n,m = map(int,input().split())
	if n == 0 and m == 0:
		break
	ans = 0
	cnt += 1
	dic = defaultdict(list)
	visit = [0]*(n+1)
	for i in range(m):
		a,b = map(int,sys.stdin.readline().split())
		dic[a].append(b)
		dic[b].append(a)
	for j in range(1,n+1):
			if visit[j] == 1:  # ì´ë¯¸ ë°©ë¬¸í•œ ì ì´ ìˆëŠ” ê²½ìš°
				continue
			if check(j):  # íŠ¸ë¦¬ì¸ ê²½ìš°
				ans += 1
	
	if ans > 1:
		print("Case %d: A forest of %d trees." % (cnt,ans))
	elif ans == 1:
		print("Case %d: There is one tree." %cnt)
	else:
		print("Case %d: No trees." %cnt)
```
