
# ğŸ“š ìˆ˜ì‹ ìµœëŒ€í™”

## ğŸ“Œ [ë¬¸ì œë§í¬](https://school.programmers.co.kr/learn/courses/30/lessons/67257)

### ë¬¸ì œ í•´ì„¤

- íŠ¹ì • ìˆ˜ì‹ expressionì´ ì£¼ì–´ì§„ë‹¤.
- ì´ ìˆ˜ì‹ì€ (+, \*, -,)ì™€ ê°™ì´ 3ê°œì˜ ì—°ì‚°ìë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.
- ë³´í†µ ì—°ì‚°ìì˜ ìˆœìœ„ëŠ” \* > +,-ë¡œ ìš°ì„ ìˆœìœ„ê°€ ì •í•´ì ¸ìˆë‹¤. ê·¸ëŸ¬ë‚˜ ë¬¸ì œì—ì„œëŠ” ì—°ì‚°ìì˜ ìš°ì„ ìˆœìœ„ë¥¼ ìƒˆë¡­ê²Œ ì •ì˜í•  ìˆ˜ ìˆë‹¤.
- ì˜ˆë¥¼ë“¤ì–´ "100-200\*300-500+20"ë¼ëŠ” ë¬¸ìì—´ì´ ì£¼ì–´ì¡Œì„ë•Œ ì—°ì‚°ìì˜ ìš°ì„ ìˆœìœ„ë¥¼ * > + > - ë¡œ ì •í–ˆë‹¤ë©´ ê²°ê´ê°’ì´ -60,420ìœ¼ë¡œ ê°€ì¥ í° ê°’ì„ êµ¬í•  ìˆ˜ ìˆë‹¤.
- ìŒìˆ˜, ì–‘ìˆ˜ì— ìƒê´€ì—†ì´ ì ˆëŒ“ê°’ì´ ê°€ì¥ í° ê°’ì„ êµ¬í•œë‹¤.
- ì—°ì‚°ìì˜ ìš°ì„ ìˆœìœ„ë¥¼ ìƒˆë¡­ê²Œ ì •ì˜í•˜ì—¬ ë‚˜ì˜¨ ê°’ë“¤ì¤‘ ê°€ì¥ í° ê°’ì„ return í•˜ë¼
 
### ë¬¸ì œ í’€ì´

- 1ì°¨ í’€ì´ (ìŠ¤íƒí† ê¸€ ë³€ìˆ˜ ì´ìš©)
- ë‘ ê°œì˜ íë¥¼ ì´ìš©í•˜ì—¬ ë‹¤ë¥¸ íì— ë„˜ê²¨ì£¼ë©´ì„œ ì—°ì‚° ìš°ì„ ìˆœìœ„ëŒ€ë¡œ  ì²˜ë¦¬í•œë‹¤.
```
from itertools import permutations as p
from collections import deque
def solution(expression):
  answer = 0
    ex_list = [] # ex) ['100','+','200', '-']
    ops = ['*','+','-']
    tmp= ''
    for word in expression:
        if not word.isdigit():
            ex_list.append(tmp)
            ex_list.append(word)
            tmp = ''
        else:
            tmp += word
    else:
        ex_list.append(tmp)
    ex_list=deque(ex_list)
    
    for op in ops:
        if op not in expression:
            ops.remove(op)
    # ê°€ëŠ¥í•œ ì—°ì‚°ì ìš°ì„ ìˆœìœ„
    priority = p( ops )  # ex) [ ('+','*','-'),('-','+','*') ...]
    
    for case in priority :
        stacks = [deque(ex_list), deque()]
        t1 = 1
        t2 = 0 # t2=t1+1
        for c in case: # ê° ê²½ìš°ì—ì„œ ì—°ì‚°ì ì²˜ë¦¬
            t1 = (t1+1) % 2 # ìŠ¤íƒ í† ê¸€ ë³€ìˆ˜
            t2 = (t2+1) % 2
            while len(stacks[t1]):
                item = stacks[t1].popleft()
                if len(stacks[t2]) and stacks[t2][-1] == c:
                    c = stacks[t2].pop()
                    n = stacks[t2].pop()
                    item = str(eval(str(n)+c+str(item)))
                stacks[t2].append(item)
        
        result = stacks[len(ops)%2].pop()
        result = abs(int(result))
        answer = max(answer, result)
    return answer
```

- 2ì°¨ í’€ì´
- splití•¨ìˆ˜ì™€ joiní•¨ìˆ˜ë¥¼ ì´ìš©í•œ í’€ì´. ê°„ê²°í•˜ë‚˜ ì½”ë“œ ì´í•´í•˜ê¸°ê°€ ì–´ë µë‹¤.
- 3ìˆœìœ„ ì—°ì‚°ìë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìª¼ê°œê³  2ìˆœìœ„ ì—°ì‚°ìë¡œ ìª¼ê° ë‹¤ => 1ìˆœìœ„ ì—°ì‚°ìë¡œ ì´ë£¨ì–´ì§„ ìˆ˜ì‹ë§Œ ë‚¨ìœ¼ë¯€ë¡œ ê°ì‹¸ì¤€ë‹¤.  
- => 2ìˆœìœ„ ì—°ì‚°ìë¡œ ë‹¤ì‹œ í•©ì¹  ë•Œ 3ìˆœìœ„ ì—°ì‚°ìë³´ë‹¤ ë¨¼ì € ì—°ì‚°ì„ ì§„í–‰í•´ì•¼ í•˜ë¯€ë¡œ ë‹¤ì‹œ ê°ì‹¸ì¤€ë‹¤. 

```
from itertools import permutations
def solution(expression): # ë‹¤ì‹œí’€ê¸°

    answer = []
    
    for op in permutations(['*','-','+'] , 3):
        a = op[0] # 3ìˆœìœ„
        b = op[1] # 2ìˆœìœ„
        temp_list = []
        for e in expression.split(a):
            temp = [ '(' + i + ')' for i in e.split(b) ] # '300*(100+20)'
            temp_list.append( "(" + b.join(temp) + ")" )
        #print(temp_list)
        answer.append(abs(eval(a.join(temp_list))) )
    return max(answer)
```


- ë‹¤ë¥¸ ì‚¬ëŒì˜ í’€ì´(ì •ê·œ í‘œí˜„ì‹)

```
import re
from itertools import permutations

def solution(expression):
    #1
    op = [x for x in ['*','+','-'] if x in expression]
    op = [list(y) for y in permutations(op)]
    ex = re.split(r'(\D)',expression)

    #2
    a = []
    for x in op:
        _ex = ex[:]
        for y in x:
            while y in _ex:
                tmp = _ex.index(y)
                _ex[tmp-1] = str(eval(_ex[tmp-1]+_ex[tmp]+_ex[tmp+1]))
                _ex = _ex[:tmp]+_ex[tmp+2:]
        a.append(_ex[-1])

    #3
    return max(abs(int(x)) for x in a)
```
