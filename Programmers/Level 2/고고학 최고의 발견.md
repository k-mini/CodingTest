
# ğŸ“š ê³ ê³ í•™ ìµœê³ ì˜ ë°œê²¬

## ğŸ“Œ [ë¬¸ì œë§í¬](https://school.programmers.co.kr/learn/courses/30/lessons/131702)

### ë¬¸ì œ í•´ì„¤

- ì–´ë–¤ í¼ì¦ì´ ì¡´ì¬í•œë‹¤. í¼ì¦ì€ ì—¬ëŸ¬ ê°œì˜ ì‹œê³„ë¡œ êµ¬ì„±ë˜ì–´ ìˆì—ˆê³ , ì—¬ëŠ” ë°©ë²•ì€ ëª¨ë“  ì‹œê³„ì˜ ì‹œê³„ë°”ëŠ˜ ë°©í–¥ì„ 12ì‹œ ë°©í–¥ì„ ê°€ë¥´í‚¤ë©´ ì—´ë¦°ë‹¤. 
- ì–´ë–¤ í¼ì¦ì˜ ì‹œê³„ë°”ëŠ˜ì„ ëŒë¦¬ë©´ ê·¸ ì‹œê³„ì˜ ìƒí•˜ì¢Œìš°ë¡œ ì¸ì ‘í•œ ì‹œê³„ë“¤ì˜ ì‹œê³—ë°”ëŠ˜ë„ í•¨ê»˜ ëŒì•„ê°„ë‹¤.
- ì‹œê³—ë°”ëŠ˜ì€ ì‹œê³„ë°©í–¥ìœ¼ë¡œë§Œ ëŒë¦´ ìˆ˜ ìˆê³  í•œ ë²ˆì˜ ì¡°ì‘ìœ¼ë¡œ 90ë„ì”© ëŒë¦´ ìˆ˜ ìˆë‹¤.
- ì‹œê³—ë°”ëŠ˜ë“¤ì˜ í–‰ë ¬ clockHandsê°€ ë§¤ê°œë³€ìˆ˜ë¡œ ì£¼ì–´ì§ˆ ë•Œ, í¼ì¦ì„ í•´ê²°í•˜ê¸° ìœ„í•œ ìµœì†Œí•œì˜ ì¡°ì‘ íšŸìˆ˜ë¥¼ return í•˜ë¼.

### ë¬¸ì œ í’€ì´

- clockHandsê°€ ê°€ì¥ ê¸´ 8ì¼ ë•Œ, ì‹œê³„ë¥¼ íšŒì „ì‹œì¼œë³´ëŠ” ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ëŠ” 4^64ì´ë‹¤. => ë„ˆë¬´ ë²”ìœ„ê°€ í¬ë‹¤
- ì˜ ìƒê°í•´ë³´ë©´ 4^8(ë§¨ìœ—ì¤„)ë¡œ í•œì •í•  ìˆ˜ ìˆë‹¤.
- 2ë²ˆì§¸ ì¤„ë¶€í„°ëŠ” ìœ—ì¤„ì˜ ê°’(ë°©í–¥)ì— ë”°ë¼ ë§ì¶°ì„œ íšŒì „ì‹œí‚¤ê¸° ë•Œë¬¸ì— ëª¨ë“  ê²½ìš°ë¥¼ ë”°ì§ˆ í•„ìš”ê°€ ì—†ë‹¤.
- 2ë²ˆì§¸ ì¤„ë¶€í„° ë§ˆì§€ë§‰ ì¤„ì—ì„œëŠ” ë°”ë¡œ ìœ— ì¤„ì´ 12ì‹œ ë°©í–¥ì´ ë˜ê²Œ íšŒì „ì‹œì¼œì£¼ê³  ë§¨ ì•„ë«ì¤„ì´ ì „ë¶€ 12ì‹œ ë°©í–¥ì„ ê°€ë¦¬í‚¤ë©´ í¼ì¦ì´ í’€ë¦° ê²ƒì´ë‹¤.
- ì´ ì ì„ ê³ ë ¤í•˜ì—¬ í‘¼ë‹¤.

- íë¥¼ ì´ìš©í•œ í’€ì´ (ì‹œê°„ì´ˆê³¼)

```
from collections import deque
def solution(clockHands): # 
    global length
    length = len(clockHands)
    new_clockHands = [ [0] * (length+2) for _ in range(length+2)]
    q = deque()
    dx = [-1,1,0,0]
    dy = [0,0,-1,1]
    
    for i in range(length):
        for j in range(length):
            new_clockHands[i+1][j+1]  = clockHands[i][j]
    
    for i in range(1,length+1):
        for j in range(1,length+1):
            q.append( (i,j,0,serialize(new_clockHands) ) ) # x,y,ëŒë¦°íšŸìˆ˜,ì§€ë„
    
    while q:
        x,y,cnt,serialized_table = q.popleft()
        table = unserialize(serialized_table) # ì§ë ¬í™” í’€ê¸°
        zero_cnt = 0
        flag = False
        for i in range(1,length+1):
            for j in range(1,length+1):
                if table[i][j] == 0:
                    zero_cnt += 1
                else:
                    flag=True
            if flag == True:
                break
        if zero_cnt == length * length:
            return cnt
        
        rotate(x,y,table)
        
        for nx in range(length):
            for ny in range(length):
                q.append( (nx,ny,cnt+1,serialize(table) ) )
                
        
    #return answer
# ê³„ì† ë£¨í”„ë„ëŠ” ì´ìœ ê°€ ì£¼ë³€ì—ì„œë§Œ ì‹œê³„ë¥¼ ëŒë¦¬ë ¤ê³  í–ˆê¸°ë•Œë¬¸
                # 1,0ì—ì„œ ëŒë¦¬ê³  ë¨¼ì§€ì—­ n,nì—ì„œë„ ëŒë¦´ìˆ˜ ìˆëŠ”ë° ì´ê±¸ ê°„ê³¼í–ˆìŒ
# ì‹œê³„ë°©í–¥ìœ¼ë¡œ ëŒë¦¬ê¸°
def rotate(i,j,table):
    table[i][j] = (table[i][j] + 1 ) % 4
    dx = [-1,1,0,0]
    dy = [0,0,-1,1]
    for k in range(4):
        nx = i + dx[k] 
        ny = j + dy[k]
        table[nx][ny] = (table[nx][ny] + 1) % 4
# ì§ë ¬í™”
def serialize(table):
    tmp =''
    for i in range(len(table)):
        for j in range(len(table[0])):
            tmp += str(table[i][j])
    return tmp
# ë¹„ì§ë ¬í™”
def unserialize(un_table):
    tmp =[ [ int(un_table[i*(length+2)+j]) for j in range(length+2) ] for i in range(length+2) ]
    
    return tmp

# 2ì°¨ì› idxë¥¼ 1ì°¨ì›ìœ¼ë¡œ ë³€ê²½
def idxConverter(x,y):
    return (length+2) * x + y
```

- greedyí•œ í’€ì´ 

```
from itertools import product
def solution(clockHands):
    answer = int(1e9)
    n = len(clockHands)
    
    def calc(x, y): # x,yì˜ ë°©í–¥ êµ¬í•˜ê¸°
        dx = [0,0,0,1,-1]
        dy = [0,1,-1,0,0]
        temp = 0
        for k in range(5): # ì›ë˜ìë¦¬ í¬í•¨ ì£¼ë³€ ëŒë¦°íšŸìˆ˜
            nx = x + dx[k]
            ny = y + dy[k]
            if not (0<= nx < n and 0 <= ny < n):
                continue
            temp += data[nx][ny]
        return (clockHands[x][y] + temp) % 4 #(ê¸°ì¡´ ë°©í–¥ + ì£¼ë³€ìë¦¬ì™€ ì›ë˜ìë¦¬ ëŒë¦°íšŸìˆ˜) % 4 => ë°©í–¥
    
    
    for li in product(list(range(4)), repeat=n):
        #print(li)
        data = [ [0] * n for _ in range(n)]
        data[0] = list(li).copy()
        
        for i in range(1,n): # 2ë²ˆì§¸ í–‰ë¶€í„° ì‹œì‘
            for j in range(n): # 0 ~ n-1 ì—´ê¹Œì§€
                data[i][j] = (4 - calc(i-1,j) ) % 4 # ìœ—ì¤„ì˜ ë°©í–¥ì„ ë³´ê³  ë°”ë¡œ ì•„ë˜ì—ì„œ ëŒë¦´ íšŸìˆ˜ ê²°ì •
        
        # ê²€ì¦
        for j in range(n):
            if calc(n-1, j) != 0:
                break
        else:
            temp = sum([sum(t) for t in data])
            answer = min(answer, temp)
                      
    return answer
```
