
# ğŸ“š ì´ëª¨í‹°ì½˜ í• ì¸í–‰ì‚¬

## ğŸ“Œ [ë¬¸ì œë§í¬](https://school.programmers.co.kr/learn/courses/30/lessons/150368)

### ë¬¸ì œí•´ì„¤

- ê°ê°ì˜ ì´ëª¨í‹°ì½˜ ê°€ê²©ì„ ë‹´ì€ emoticons ë¦¬ìŠ¤íŠ¸ì™€ ìœ ì €ì˜ ì •ë³´ë¥¼ ë‹´ì€ users ë¦¬ìŠ¤íŠ¸ê°€ ìˆë‹¤.
- users ë¦¬ìŠ¤íŠ¸ì˜ ê° ìš”ì†Œì˜ ë‚´ìš©ì€ [í• ì¸ìœ¨, ê°€ê²©] ì´ë‹¤.  
ì´ê²ƒì´ ì˜ë¯¸í•˜ëŠ” ë°”ëŠ” í•´ë‹¹ ìœ ì €ëŠ” ì²« ë²ˆì§¸ ìš”ì†Œì˜ í• ì¸ìœ¨ ì´ìƒì¼ë•Œë§Œ ì´ëª¨í‹°ì½˜ì„ êµ¬ë§¤í•œë‹¤ëŠ” ì˜ë¯¸ì´ê³ , ë‘ ë²ˆì§¸ ìš”ì†Œì˜ ì˜ë¯¸ëŠ” ì´ êµ¬ë§¤ë¹„ìš©ì´  
ë‘ ë²ˆì§¸ ìš”ì†Œë¥¼ ë„˜ì–´ê°€ë©´ ì´ëª¨í‹°ì½˜ í”ŒëŸ¬ìŠ¤ ì„œë¹„ìŠ¤ì— ê°€ì…í•œë‹¤.
- ì´ëª¨í‹°ì½˜ì˜ í• ì¸ìœ¨ì€ ë¬¸ì œí’€ì´ìê°€ ì •í•œë‹¤. (10%, 20%, 30%, 40%) ì¤‘ í•˜ë‚˜ë¡œ ì •í•  ìˆ˜ ìˆë‹¤.

- ëª©ì  1ìˆœìœ„ : ì´ëª¨í‹°ì½˜ ì„œë¹„ìŠ¤ ê°€ì…ìë¥¼ ìµœëŒ€í•œ ëŠ˜ë¦¬ëŠ” ê²ƒ 2. ì´ëª¨í‹°ì½˜ íŒë§¤ì•¡ì„ ìµœëŒ€í•œ ëŠ˜ë¦¬ëŠ” ê²ƒ
- ìœ„ì˜ ëª©ì ì„ ìµœëŒ€í•œìœ¼ë¡œ ë‹¬ì„±í–ˆì„ë•Œì˜ ì´ëª¨í‹°ì½˜ í”ŒëŸ¬ìŠ¤ ì„œë¹„ìŠ¤ ê°€ì… ìˆ˜ì™€ ì´ëª¨í‹°ì½˜ ë§¤ì¶œì•¡ì„ 1ì°¨ì› ì •ìˆ˜ ë°°ì—´ì— ë‹´ì•„ return í•´ì•¼ í•œë‹¤.

### ë¬¸ì œí’€ì´

```
from collections import defaultdict
from itertools import product
class User:
    def __init__(self,sale_limit,plus_limit):
        self.sale_limit = sale_limit
        self.plus_limit = plus_limit
        self.stock = 0
        self.member = False
        
    def update(self,price,percent):
        if percent >= self.sale_limit and not self.member:
            self.stock += price * (100 - percent) / 100
        
        if self.stock >= self.plus_limit:
            self.member = True
            self.stock = 0
    
    def reset(self):
        self.stock = 0
        self.member = False
    def is_member(self):
        return self.member

# 1ìˆœìœ„ ì´ëª¨í‹°ì½˜ í”ŒëŸ¬ìŠ¤ ì„œë¹„ìŠ¤ ê°€ì…ì 2ìˆœìœ„ ì´ëª¨í‹°ì½˜ íŒë§¤ì•¡
def solution(users, emoticons):
    answer = []
    u_dict = {}
    for i,user in enumerate(users):
        u_dict[i] = User(user[0],user[1])
    discount_rate_case = product([10,20,30,40], repeat = len(emoticons) ) # ì´ëª¨í‹°ì½˜ ë³„ í• ì¸ì¼€ì´ìŠ¤ êµ¬í•˜ê¸°
    
    for case in discount_rate_case: # ì´ëª¨í‹°ì½˜ ë³„ í• ì¸ì¼€ì´ìŠ¤ êµ¬í•˜ê¸°
        for i,emoticon in enumerate(emoticons):
            for j,user in enumerate(users):
                # ì´ëª¨í‹°ì½˜ ë³„ë¡œ ê°€ê²© ì—…ë°ì´íŠ¸
                #print(case,emoticon,user)
                u_dict[j].update(emoticon , case[i] )
                
        else:
            tmp = [0,0]
            for k,v in u_dict.items():
                #print(k,v.stock,v.member)
                if v.is_member():
                    tmp[0] += 1
                else:
                    tmp[1] += v.stock
                v.reset()
            #print(tmp, case)
            answer.append(tmp)
    
    answer.sort(key = lambda x: (-x[0],-x[1]) )
    #print(answer)
    return answer[0]
```

ì²˜ìŒì— ë¬¸ì œë¥¼ í’€ ë•ŒëŠ” ì´ëª¨í‹°ì½˜ì˜ í• ì¸ìœ¨ì´ ì œí•œì‚¬í•­ì—ì„œ 1<= ë¹„ìœ¨ <= 40 ì´ê¸¸ë˜ ìµœëŒ€ 40*40*40*40*40*40*40 = 163840000000 ì¸ì¤„ ì•Œì•˜ë‹¤.
ê·¸ë˜ì„œ ì™„ì „íƒìƒ‰ ë¬¸ì œê°€ ì•„ë‹Œê°€? í–ˆëŠ”ë° ìì„¸íˆ ì½ì–´ë³´ë‹ˆ ì´ëª¨í‹°ì½˜ í• ì¸ìœ¨ì€ 10%, 20%, 30%, 40% ì¤‘ í•˜ë‚˜ë¡œ ì„¤ì •í•˜ëŠ” ê±°ì˜€ë‹¤. ë¬¸ì œë¥¼ ì˜ ì½ì.
ê° ì´ëª¨í‹°ì½˜ì˜ í• ì¸ìœ¨ì„ ì„¤ì •í•´ì•¼ í•˜ë¯€ë¡œ ì¤‘ë³µìˆœì—´ì„ ì´ìš©í•œë‹¤.
