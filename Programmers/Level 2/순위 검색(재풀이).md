
# ğŸ“š ìˆœìœ„ ê²€ìƒ‰

## ğŸ“Œ [ë¬¸ì œë§í¬](https://school.programmers.co.kr/learn/courses/30/lessons/72412)

### ë¬¸ì œ í•´ì„¤

- ì§€ì›ìë“¤ì˜ ì •ë³´ê°€ ë‹´ê¸´ ë°°ì—´ infoì™€ ê°œë°œíŒ€ì´ ê¶ê¸ˆí•´í•˜ëŠ” ë¬¸ì˜ì¡°ê±´ì´ ë¬¸ìì—´ í˜•íƒœë¡œ ë‹´ê¸´ ë°°ì—´ queryê°€ ìˆë‹¤.
- ê° ë¬¸ì˜ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ì‚¬ëŒë“¤ì˜ ìˆ«ìë¥¼ ìˆœì„œëŒ€ë¡œ ë‹´ì•„ returní•˜ëŠ” ë¬¸ì œ
- ì˜ˆë¥¼ë“¤ì–´ queryì˜ ìš”ì†Œ ê°’ì´ "java and backend and junior and pizza 100"  
=> ì–¸ì–´ê°€ java, ì§êµ°ì€ backend, ê²½ë ¥ì€ junior,ìŒì‹ì€ pizzaë¥¼ ì¢‹ì•„í•˜ë©´ì„œ ì½”ë”©í…ŒìŠ¤íŠ¸ ì ìˆ˜ê°€ 100ì  ì´ìƒì¸ ì§€ì›ìë¥¼ ì›í•œë‹¤.

### ë¬¸ì œ í’€ì´

- 1ì°¨ í’€ì´ (ì‹œê°„ ì´ˆê³¼)
- info ì§€ì›ììˆ˜ ìµœëŒ€ 50000ëª… ë”•ì…”ë„ˆë¦¬ì— ë“±ë¡
- query ë°˜ë³µë¬¸ì—ì„œ í•´ë‹¹ ì¿¼ë¦¬ì— ë§ëŠ” ì¡°ê±´ì„ ì°¾ê¸° ìœ„í•´ ë”•ì…”ë„ˆë¦¬ë¥¼ ëª¨ë‘ ë’¤ì§€ê²Œ ëœë‹¤.  
- ì´ ë³µì¡ë„ëŠ” 100000 * 50000 => ëŒ€ëµ 5000000000 (ì˜¤ì‹­ì–µ)ìœ¼ë¡œ ë³µì¡ë„ê°€ ë§¤ìš° ë†’ì•„ì§„ë‹¤.

```
from collections import Counter
def solution(info, query):

    c_dict = Counter()
    answer = []
    for i in info:
        cand, score = ' '.join(i.split()[:4]),int(i.split()[4])
        c_dict[(cand,score)] += 1
        
    for q_str in query:
        tmp = 0
        q_str = q_str.replace(' and ', ' ')
        #print(q_str,q_str.split()[:4],int(q_str.split()[4]))
        check1,check2,check3,check4,score = *q_str.split()[:4],int(q_str.split()[4])
        if check1 == '-' : check1 = ''
        if check2 == '-' : check2 = ''
        if check3 == '-' : check3 = ''
        if check4 == '-' : check4 = ''
        for k,v in c_dict.items():
            #print(q_str,k,v)
            if check1 in k[0] and check2 in k[0] and check3 in k[0] and check4 in k[0] and k[1] >= score:
                tmp += v
        answer.append(tmp)
        
    return answer
```

- 2ì°¨ í’€ì´
- ê°ê° ì§€ì›ì ì •ë³´ ë§Œë“¤ ìˆ˜ ìˆëŠ” ê²½ìš°ì˜ ìˆ˜ = 1 + 4 + 6 + 4 = 15ê°€ì§€
- info ì§€ì›ììˆ˜ê°€ ìµœëŒ€ 50000 ëª…ì´ë¼ë„ 50000 * 15 = 750000ê°œ ì •ë„ ë”•ì…”ë„ˆë¦¬ì— ë“±ë¡ë˜ê²Œ ëœë‹¤.
- ì •ë ¬ ì‹œ 750000ë²ˆ ì—°ì‚° + ì¿¼ë¦¬ forë¬¸ 100000ë²ˆ ì—°ì‚° 
- ì´ 150ë§Œ ~ 250ë§Œ ì‚¬ì´ë¡œ ì˜ˆìƒ

```
from itertools import combinations
from bisect import bisect_left
def solution(info, query):
    
    answer = []
    info_dict = {}

    for i in range(len(info)):
        infol = info[i].split()  # infoì•ˆì˜ ë¬¸ìì—´ì„ ê³µë°±ì„ ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¦¬
        mykey = infol[:-1]  # infoì˜ ì ìˆ˜ì œì™¸ë¶€ë¶„ì„ keyë¡œ ë¶„ë¥˜
        myval = infol[-1]  # infoì˜ ì ìˆ˜ë¶€ë¶„ì„ valueë¡œ ë¶„ë¥˜

        for j in range(5):  # keyë“¤ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ëª¨ë“  ì¡°í•© ìƒì„±
            for c in combinations(mykey, j):
                tmp = ''.join(c)
                if tmp in info_dict:
                    info_dict[tmp].append(int(myval))  # ê·¸ ì¡°í•©ì˜ keyê°’ì— ì ìˆ˜ ì¶”ê°€
                else:
                    info_dict[tmp] = [int(myval)]

    for k in info_dict:
        info_dict[k].sort()  # dictì•ˆì˜ ì¡°í•©ë“¤ì„ ì ìˆ˜ìˆœìœ¼ë¡œ ì •ë ¬

    for qu in query:  # queryë„ ë§ˆì°¬ê°€ì§€ë¡œ keyì™€ valueë¡œ ë¶„ë¦¬
        myqu = qu.split(' ')
        qu_key = myqu[:-1]
        qu_val = myqu[-1]

        while 'and' in qu_key:  # and ì œê±°
            qu_key.remove('and')
        while '-' in qu_key:  # - ì œê±°
            qu_key.remove('-')
        qu_key = ''.join(qu_key)  # dictì˜ keyì²˜ëŸ¼ ë¬¸ìì—´ë¡œ ë³€ê²½

        if qu_key in info_dict:  # queryì˜ keyê°€ info_dictì˜ keyë¡œ ì¡´ì¬í•˜ë©´
            scores = info_dict[qu_key]

            #if scores:  # scoreë¦¬ìŠ¤íŠ¸ì— ê°’ì´ ì¡´ì¬í•˜ë©´
            enter = bisect_left(scores, int(qu_val))

            answer.append(len(scores) - enter)
        else:
            answer.append(0)

    return answer
```
