

## ğŸ’° 2ì°¨ì› ë™ì „ ë’¤ì§‘ê¸°

[ë¬¸ì œë§í¬](https://school.programmers.co.kr/learn/courses/30/lessons/131703)

---

í•œìˆ˜ëŠ” ì§ì‚¬ê°í˜• ëª¨ì–‘ì˜ ê³µê°„ì— ë†“ì¸ ë™ì „ë“¤ì„ ë’¤ì§‘ëŠ” ë†€ì´ë¥¼ í•˜ê³  ìˆìŠµë‹ˆë‹¤. ëª¨ë“  ë™ì „ë“¤ì€ ì•ê³¼ ë’¤ê°€ êµ¬ë¶„ë˜ì–´ ìˆìœ¼ë©°, ë™ì „ì„ ë’¤ì§‘ê¸° ìœ„í•´ì„œëŠ” ê°™ì€ ì¤„ì— ìˆëŠ” ëª¨ë“  ë™ì „ì„ ë’¤ì§‘ì–´ì•¼ í•©ë‹ˆë‹¤. ë™ì „ë“¤ì˜ ì´ˆê¸° ìƒíƒœì™€ ëª©í‘œ ìƒíƒœê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ì´ˆê¸° ìƒíƒœì—ì„œ ìµœì†Œ ëª‡ ë²ˆì˜ ë™ì „ì„ ë’¤ì§‘ì–´ì•¼ ëª©í‘œ ìƒíƒœê°€ ë˜ëŠ”ì§€ ì•Œì•„ë´…ì‹œë‹¤.


![img](https://grepp-programmers.s3.ap-northeast-2.amazonaws.com/files/production/7efaaecf-e627-40a8-ab90-60550523ccb0/2%EC%B0%A8%EC%9B%90%201.png)

ì˜ˆë¥¼ ë“¤ì–´, ìœ„ ê·¸ë¦¼ì—ì„œ ë§¨ ì™¼ìª½ì´ ì´ˆê¸° ìƒíƒœ, ë§¨ ì˜¤ë¥¸ìª½ì´ ëª©í‘œ ìƒíƒœì¸ ê²½ìš°ì— ëŒ€í•´ ì•Œì•„ë´…ì‹œë‹¤. ê·¸ë¦¼ì—ì„œ ê²€ì€ìƒ‰ ì›ì€ ì•ë©´ì¸ ë™ì „, í°ìƒ‰ ì›ì€ ë’·ë©´ì¸ ë™ì „ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ˆê¸° ìƒíƒœì—ì„œ 2í–‰ê³¼ 4í–‰ì˜ ëŒë“¤ì„ ë’¤ì§‘ìœ¼ë©´, ë‘ ë²ˆì§¸ ê·¸ë¦¼ì´ ë©ë‹ˆë‹¤. ê·¸ í›„, 2ì—´, 4ì—´, 5ì—´ì˜ ëŒë“¤ì„ ìˆœì„œëŒ€ë¡œ ë’¤ì§‘ëŠ” ë‹¤ë©´, ì´ 5ë²ˆì˜ ë™ì „ ë’¤ì§‘ê¸°ë¥¼ í†µí•´ ëª©í‘œ ìƒíƒœê°€ ë˜ë©°, ì´ ê²½ìš°ê°€ ìµœì†Œì¸ ê²½ìš°ì…ë‹ˆë‹¤.

ì§ì‚¬ê°í˜• ëª¨ì–‘ì˜ ê³µê°„ì— ë†“ì¸ ë™ì „ë“¤ì˜ ì´ˆê¸° ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” 2ì°¨ì› ì •ìˆ˜ ë°°ì—´ beginning, ëª©í‘œ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” targetì´ ì£¼ì–´ì¡Œì„ ë•Œ, ì´ˆê¸° ìƒíƒœì—ì„œ ëª©í‘œ ìƒíƒœë¡œ ë§Œë“¤ê¸° ìœ„í•´ í•„ìš”í•œ ë™ì „ ë’¤ì§‘ê¸° íšŸìˆ˜ì˜ ìµœì†Ÿê°’ì„ return í•˜ëŠ” solution í•¨ìˆ˜ë¥¼ ì™„ì„±í•˜ì„¸ìš”. ë‹¨, ëª©í‘œ ìƒíƒœë¥¼ ë§Œë“¤ì§€ ëª»í•˜ëŠ” ê²½ìš°ì—ëŠ” -1ì„ return í•©ë‹ˆë‹¤.


ë‚˜ì˜ í’€ì´

    from itertools import combinations
    import copy
    def solution(beginning, target):
        answer = [-1]
        height = len(beginning)
        width = len(beginning[0])
        # í–‰ì—ì„œ ë’¤ì§‘ì„ ê°¯ìˆ˜
        for i in range(len(beginning)+1 ): # 0~ í–‰ì˜ê°œìˆ˜ê¹Œì§€
            # ì—´ì—ì„œ ë’¤ì§‘ì„ ê°¯ìˆ˜
            for j in range(len(beginning[0])+1 ) : # 0 ~ í–‰ì˜ ê°œìˆ˜ ê¹Œì§€
                for cols in combinations(range(width), i):
                    cnt = i
                    tmp = copy.deepcopy(beginning)
                    change(tmp,cols,'col')
                    for rows in combinations(range(height), j):
                        change(tmp,rows,'row')
                        if sum(tmp,[]) == sum(target,[]):
                            cnt += j
                            answer.append(cnt)  # ë°”ë¡œ ë¦¬í„´í•´ì¤˜ì•¼ í•¨ ì™œëƒí•˜ë©´ 1ì¤„ì„ 1ë²ˆ ë’¤ì§‘ì„ê±¸ 2ë²ˆë” ë’¤ì§‘ì„ ìˆ˜ ìˆìŒ
                            return answer # ë§Œì•½ ì „ë¶€ ë’¤ì§‘ëŠ”ê²½ìš°ê°€ ìˆìœ¼ë©´ ê²½ìš°ê°€ 2ê°œì„ ì•„ì˜ˆ ì•ˆ ë’¤ì§‘ê¸° or í–‰ê³¼ì—´ ë‹¤ ì„ íƒí•˜ëŠ”ê²½ìš°
                        change(tmp,rows,'row')
                      
      return -1 if len(answer) == 1 else min(answer[1:] )
  
    def change(beginning,arr,mode):
  
        if mode == 'row':
            for i in arr:
              beginning[i] = [ (num+1) % 2 for num in beginning[i] ]
        else:
            for i in arr:
                for j in range(len(beginning)):
                    beginning[j][i] = (beginning[j][i] + 1) % 2
                    
        return beginning


ìê¾¸ í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ 5ë²ˆ 6ë²ˆì´ ì˜¤ë¥˜ê°€ ë‚¬ëŠ”ë° ì™œ ê·¸ëŸ°ê°€ ê³°ê³°íˆ ìƒê°í•´ë³´ë‹ˆ, ë‚˜ëŠ” íŠ¹ì •í•œ targetì€ ë™ì „ë’¤ì§‘ëŠ” ê°ê°ì˜ ê²½ìš°ë§ˆë‹¤ í•˜ë‚˜ì”© ê°€ì§€ëŠ” ì¤„ ì•Œì•˜ëŠ”ë° ì•„ë‹ˆì—ˆë‹¤.

2í–‰ í•œë²ˆë§Œ ë’¤ì§‘ì„ ê²½ìš° == 2í–‰ë¹¼ê³  ëª¨ë“ í–‰ ë’¤ì§‘ê¸° -> ëª¨ë“ ì—´ ë’¤ì§‘ê¸°ê°€ ê°™ì€ ê²½ìš°ì˜€ë‹¤..

ì˜ˆë¥¼ë“¤ì–´  ìµœì ìœ¼ë¡œ ë’¤ì§‘ëŠ” ê²½ìš°ê°€ 2,4í–‰ë’¤ì§‘ê³  ì—´ì„ ë’¤ì§‘ì§€ ì•Šì€ê²½ìš°ì™€ ê°™ì€ ê²°ê³¼ëŠ” 1,3,5í–‰ê³¼ ëª¨ë“ ì—´ ë’¤ì§‘ìœ¼ë©´ ê°™ì€ ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤. 

ì˜¤ë¥˜ê°€ ì•„ì§ ëœ¨ëŠ”ë° ì–´ë–»ê²Œ ì¢€ ë” íš¨ìœ¨ì ìœ¼ë¡œ ì§œì•¼í• ì§€ ê³ ë¯¼í•´ì•¼ê² ë‹¤.

'''

def flipColumn(arr, col):
    n = len(arr)
    
    for i in range(n):
        if arr[i][col] == 1:
            arr[i][col] = 0
        else:
            arr[i][col] = 1

def solution(beginning, target):
    answer = float("inf") # ë¬´í•œìˆ˜
    rows = len(beginning)
    cols = len(beginning[0])
    
    flipped = []
    # ë¯¸ë¦¬ ì›ë³¸ ë°°ì—´ì„ flipì‹œì¼œì„œ ì €ì¥
    for i in range(rows):
        flipped.append([])
        for j in range(cols):
            if beginning[i][j]:
                flipped[i].append(0)
            else:
                flipped[i].append(1)
    
    # andì‹œí‚¬ bitmaskë¥¼ ëŒë©´ì„œ
    for unit in range(1 << rows) : # unit: 00000 ~ 11111
        rowFlipped = [] # ê°
        flipCnt = 0
        
        for i in range(rows): # 0~4 -> ì™¼ìª½ë¹„íŠ¸ë¡œ 0ë²ˆì´ë™ ~ 4ë²ˆì´ë™
            # 000, 010, 100... bitmask ìƒì„±
            comp = 1 << i # 00001 , 00010 , 00100, 01000, 10000 
            
            # andí•œ ê°’ì´ 1ì´ë©´ í•´ë‹¹ row ë’¤ì§‘ê¸°
            if unit & comp: # 00001 & 01101 -> 1,3,4í–‰ì„ ë’¤ì§‘ì–´ë¼: í•´ë‹¹ì»´í¬ë„ŒíŠ¸ ë•Œë§ˆë‹¤ ê±¸ë¦¼
                rowFlipped.append(flipped[i][:])
                flipCnt += 1
            # í•´ë‹¹ row ë’¤ì§‘ì§€ ì•Šê¸°
            else:
                rowFlipped.append(beginning[i][:])
        # ì—´ ë’¤ì§‘ê¸°
        for j in range(cols):
            curCol = []
            targetCol = []
            
            for i in range(rows):
                curCol.append(rowFlipped[i][j])
                targetCol.append(target[i][j])
            
            # í˜„ì¬ columnê³¼ target columnì´ ë‹¤ë¥´ë©´ ë’¤ì§‘ê¸°
            if curCol != targetCol:
                flipColumn(rowFlipped, j)
                flipCnt += 1
        
        # ê²°êµ­ ë’¤ì§‘ì€ ê²°ê³¼ê°€ targetê³¼ ê°™ìœ¼ë©´ ë’¤ì§‘ì€ íšŸìˆ˜ ê°±ì‹ 
        if rowFlipped == target:
            answer = min(answer, flipCnt)
    
    if answer == float("inf"):
        answer = -1
        
    return answer
'''

ì‹œê°„ì´ˆê³¼ë¥¼ ê·¹ë³µí•˜ì§€ ëª»í•´ êµ¬ê¸€ë§ì„ í•´ì„œ ì°¾ì•„ë³´ì•˜ë‹¤.

ë¹„íŠ¸ë§ˆìŠ¤í¬ë¥¼ ì´ìš©í•œ ê²½ìš°ì¸ë° ë‚´ê°€ ì‹œê°„ì´ˆê³¼ê°€ ë‚œ ì´ìœ ëŠ” ë¹„íŠ¸ ë§ˆìŠ¤í¬ë¼ê¸° ë³´ë‹¤ëŠ” ê¸°ì¡´ë¦¬ìŠ¤íŠ¸ë¥¼ ê³„ì†í•´ì„œ ë’¤ì§‘ì–´ì¤˜ì„œ ì‹œê°„ì´ˆê³¼ê°€ ë‚œ ê²ƒ ê°™ë‹¤.

ë’¤ì§‘ì€ ê²°ê³¼ë¥¼ flipped ë¦¬ìŠ¤íŠ¸ì— ë¯¸ë¦¬ ì €ì¥ì‹œì¼œë†“ê³  ì²˜ìŒ í–‰ì´ë‚˜ ì—´ì„ ë¨¼ì € ë’¤ì§‘ì„ë•Œ ì €ì¥ì‹œì¼œë‘” ë°°ì—´ì„ ë„£ì–´ì£¼ë©´ ì‹œê°„ì„ ì¤„ì¼ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.
