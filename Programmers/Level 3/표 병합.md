
# ðŸ“š í‘œ ë³‘í•©

## ðŸ“Œ [ë¬¸ì œë§í¬](https://school.programmers.co.kr/learn/courses/30/lessons/150366)

### ë¬¸ì œ í•´ì„¤

- í‘œ íŽ¸ì§‘ í”„ë¡œê·¸ëž¨ì„ ìž‘ì„±í•˜ë ¤ê³  í•œë‹¤.
- UPDATE r c value
    - (r,c)ìœ„ì¹˜ì˜ ì…€ì„ ì„ íƒí•œë‹¤.
    - ì„ íƒí•œ ì…€ì˜ ê°’ì„ valueë¡œ ë°”ê¾¼ë‹¤.
- UPDATE value value1 value2
    - value1ì„ ê°’ìœ¼ë¡œ ê°€ì§€ê³  ìžˆëŠ” ëª¨ë“  ì…€ì„ ì„ íƒí•œë‹¤.
    - ì„ íƒí•œ ì…€ì˜ ê°’ì„ value2ë¡œ ë°”ê¾¼ë‹¤.
- Merge r1 c1 r2 c2
    - (r1,c1)ìœ„ì¹˜ì˜ ì…€ê³¼ (r2,c2)ìœ„ì¹˜ì˜ ì…€ì„ ì„ íƒí•´ì„œ ë³‘í•©
    - ìœ„ì¹˜ê°€ ê°™ì„ ê²½ìš° ë¬´ì‹œ
    - ë‘ ì…€ ì¤‘ í•œ ì…€ì´ ê°’ì„ ê°€ì§€ê³  ìžˆì„ ê²½ìš° ë³‘í•©ëœ ì…€ì€ ê·¸ ê°’ì„ ê°€ì§€ê²Œ ëœë‹¤.
    - ë‘ ì…€ ëª¨ë‘ ê°’ì„ ê°€ì§€ê³  ìžˆì„ ê²½ìš° ë³‘í•©ëœ ì…€ì€ (r1,c1)ìœ„ì¹˜ì˜ ì…€ ê°’ì„ ê°€ì§„ë‹¤.
    - (r1,c1)ì™€ (r2,c2)ì¤‘ ì–´ëŠ ìœ„ì¹˜ë¥¼ ì„ íƒí•´ë„ ë³‘í•©ëœ ì…€ë¡œ ì ‘ê·¼ 
- UNMERGE r c
    - (r,c)ìœ„ì¹˜ì˜ ì…€ì„ ì„ íƒí•˜ì—¬ í•´ë‹¹ ì…€ì˜ ëª¨ë“  ë³‘í•©ì„ í•´ì œ
    - ì„ íƒí•œ ì…€ì´ í¬í•¨í•˜ê³  ìžˆë˜ ëª¨ë“  ì…€ì€ í”„ë¡œê·¸ëž¨ ì‹¤í–‰ ì´ˆê¸°ì˜ ìƒíƒœë¡œ ëŒì•„ê°„ë‹¤
    - ë³‘í•© í•´ì œ ì „ ì…€ì´ ê°’ì„ ê°€ì§€ê³  ìžˆì—ˆì„ ê²½ìš° (r,c)ìœ„ì¹˜ì˜ ì…€ì´ ê·¸ ê°’ì„ ê°€ì§„ë‹¤.
- PRINT r c
    - (r,c)ìœ„ì¹˜ì˜ ì…€ì„ ì„ íƒí•˜ì—¬ ì…€ì˜ ê°’ì„ ì¶œë ¥í•œë‹¤.
    - ì„ íƒí•œ ì…€ì´ ë¹„ì–´ìžˆì„ ê²½ìš° "EMPTY"ë¥¼ ì¶œë ¥í•œë‹¤.

### ë¬¸ì œ í’€ì´

- ìœ ë‹ˆì˜¨ íŒŒì¸ë“œ

```
def solution(commands):
    c_list = [ [ (i,j) for j in range(51)]  for i in range(51)]
    def get_parent(r,c):
        if (r,c) == c_list[r][c]:
            return (r,c)
        return get_parent(*c_list[r][c])
    
    def get_value(r,c):
        n_r,n_c = get_parent[r][c] 
        return sell[n_r][n_c]
    def unmerge(r,c):
        # r,cì— ê·€ì†ëœ ìžì‹ë…¸ë“œë“¤ ì´ˆê¸°í™”
        root = get_parent(r,c)
        mrg = [ (i,j) for i in range(51) for j in range(51) if get_parent(i,j) == root ]
        v = sell[root[0]][root[1]]
        '''
        for i in range(1,51):
            for j in range(1,51):
                if (i,j) == (r,c):
                    continue
                if get_parent(i,j) == (r,c):
                    c_list[i][j] = (i,j)
                    #unmerge(i,j)
        '''
        for rt in mrg:
            r1,c1 = rt
            c_list[r1][c1] = (r1,c1)
            sell[r1][c1] = "EMPTY"
        sell[r][c] = v
    
    sell = [ ["EMPTY"] * 51 for _ in range(51)]
    result = []
    for c in commands:
        command,items = c.split()[0],c.split()[1:]
        
        if command == 'UPDATE':
            # UPDATE r c value
            if len(items) > 2:
                r,c = get_parent(int(items[0]), int(items[1]))
                sell[r][c] = items[2]
            # UPDATE value1 value2
            else:
                value1 = items[0]
                value2 = items[1]
                for i in range(1,51):
                    for j in range(1,51):
                        r,c = get_parent(i,j)
                        sell[r][c] = value2 if sell[r][c] == value1 else sell[r][c]
            
        elif command == 'MERGE':
            r1,c1,r2,c2 = map(int,items)
            r1_p,c1_p = get_parent(r1,c1)
            r2_p,c2_p = get_parent(r2,c2)
            
            if r1_p == r2_p and c1_p == c2_p: continue
            
            c_list[r2_p][c2_p] = (r1_p,c1_p)
            v = sell[r1_p][c1_p] if sell[r1_p][c1_p] != 'EMPTY' else sell[r2_p][c2_p] 
            sell[r2_p][c2_p] = 'EMPTY'
            sell[r1_p][c1_p] = v
            #sell[r2_p][c2_p] = "EMPTY"
            #sell[r1_p][c1_p] = sell[r1_p][c1_p] if sell[r1_p][c1_p] != "EMPTY" else sell[r2_p][c2_p]
            #c_list[r2_p][c2_p] = (r1_p,c1_p)
            
        elif command == 'UNMERGE':
            r,c = map(int,items)
            #r_p,c_p = get_parent(r,c)
            #if (r,c) != (r_p,c_p):
            #    sell[r][c] = sell[r_p][c_p]
            #    sell[r_p][c_p] = "EMPTY"
            unmerge(r,c)
        else:
            r,c = map(int,items)
            r,c = get_parent(r,c)
            result.append(sell[r][c])    
            
    return result
```
