
# ğŸ“š ë§¤ì¹­ ì ìˆ˜

## ğŸ“Œ [ë¬¸ì œë§í¬](https://school.programmers.co.kr/learn/courses/30/lessons/42893)

### ë¬¸ì œ í•´ì„¤

- ê¸°ë³¸ì ìˆ˜ => pageë‚´ì˜ wordì˜ ê°¯ìˆ˜
- ë§í¬ì ìˆ˜ => í•´ë‹¹ ì›¹í˜ì´ì§€ë¡œ ë§í¬ê°€ ê±¸ë¦° ë‹¤ë¥¸ ì›¹í˜ì´ì§€ì˜ ê¸°ë³¸ ì ìˆ˜ / í•´ë‹¹ ì›¹í˜ì´ì§€ì˜ ì™¸ë¶€ ë§í¬ ìˆ˜
- ë§¤ì¹­ì ìˆ˜ => ê¸°ë³¸ì ìˆ˜ + ë§í¬ì ìˆ˜

### ë¬¸ì œ í’€ì´

- ì˜ëª»ëœ í’€ì´

ë„ˆë¬´ í‘¸ëŠ”ë° ì˜¤ë˜ê±¸ë¦¬ê³  í’€ì—ˆì–´ë„ í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ëŠ” í†µê³¼í–ˆìœ¼ë‚˜ ì œì¶œí•˜ë‹ˆ ì •í™•ë„ê°€ 40%ì •ë„ ë°–ì— ë˜ì§€ ì•Šì•˜ë‹¤..

```
import re # ì •ê·œí‘œí˜„ì‹ ì—°ìŠµí•˜ê¸° ì¢‹ì€ ë¬¸ì œ
from collections import defaultdict
class Page:
    def __init__(self):
        self.normal = 0
    
    def update(self,normal,idx,link_list):
        self.normal = normal
        self.idx = idx
        self.link_list = link_list
        self.link_cnt = len(link_list)
        self.link_score = normal / self.link_cnt
        
def solution(word,pages):
    html_dict = defaultdict(lambda : Page())
    word = word.lower()
    
    for i,p in enumerate(pages):
        # í˜ì´ì§€ ì´ë¦„
        page_name = re.search("<meta .+ content=\"(.+)\"/>" , p).group(1)
        # ê¸°ë³¸ì ìˆ˜
        normal_score = len(re.findall('[^a-zA-Z]'+word+'[^a-zA-Z]',p.lower()))
        # ì™¸ë¶€ ë§í¬ ìˆ˜
        ex_link_name = re.findall('<a href=\"(.+)\">',p)
        #print(normal_score)
        #print(page_name,normal_score,ex_link_name)        
        html_dict[page_name].update(normal_score,i,ex_link_name)
        
    for k,v in html_dict.items():
        #print(k,v.link_list)
        for i in v.link_list:
            if i in html_dict:
                html_dict[i].normal += v.link_score
        #print(v.normal)
    answer = [ (v.normal,v.idx) for k,v in html_dict.items() ]
    #print(answer,max(answer, key = lambda x : (x[0],-x[1]))[1])
    return max(answer, key = lambda x : (x[0],-x[1]))[1]
```
í‹€ë¦° ì´ìœ 
re.findall() í• ë•Œ re.findall('[^a-zA-Z]'+word+'[^a-zA-Z]',p.lower()) ì—¬ê¸°ì„œ
ex) '9muzi9muzi9' ì´ë©´ muziê°€ 2ë²ˆ ê²€ìƒ‰ë˜ì–´ì•¼ í•˜ì§€ë§Œ ê°€ìš´ë° 9ê°€ ê²¹ì¹˜ê¸° ë•Œë¬¸ì— í•œë²ˆë§Œ ê²€ìƒ‰ëœë‹¤.

- 2ì°¨ í’€ì´ (ì‹¤íŒ¨)
- ë§í¬ì ìˆ˜ ê³„ì‚°í• ë•Œ defaultdictì„ ì‚¬ìš©í•˜ë©´ ë¬¸ì œì— ì—†ëŠ” pageê°€ ì¶”ê°€ë˜ë©° ê²°ê³¼ì— ë¬¸ì œê°€ ìƒê¸´ë‹¤.  
=> pages ë°°ì—´ì„ ë‹¤ ëŒê³ ë‚˜ì„œ ì™¸ë¶€ ë§í¬ê°€ pages ë°°ì—´ ë‚´ì— ìˆëŠ” pageë©´ ì ìˆ˜ë¥¼ ê³„ì‚°í•´ì¤˜ì•¼í•œë‹¤.
=> ë§í¬ì ìˆ˜ë¥¼ ê³„ì‚°í•´ì¤˜ì•¼ í•˜ëŠ”ë°, ì™¸ë¶€ ë§í¬ê°€ ê±¸ë¦° ì›¹í˜ì´ì§€ì˜ ì™¸ë¶€ ë§í¬ìˆ˜ì™€ ê¸°ë³¸ì ìˆ˜ë¥¼ ì•Œì•„ì•¼ í•œë‹¤.  
=> ë°°ì—´ì„ ì´ë¯¸ ë‹¤ ëŒì•˜ê¸° ë•Œë¬¸ì— ë”°ë¡œ ì €ì¥í•´ì¤˜ì•¼ í•¨. => í´ë˜ìŠ¤ ì‚¬ìš©

- ë§í¬ë¥¼ ì°¾ëŠ” ì •ê·œí‘œí˜„ì‹ì´ ì˜ëª»ë˜ì—ˆë‹¤.
```
re.findall('<a href=\"(.+)\">',page)
```
ìœ„ì˜ í‘œí˜„ì‹ì€
```
<a href="https://naver.com"> Link to naver</a> <a href="https://google.com"> Link to Google </a>
```
ì´ ì½”ë“œë¥¼ ëê¹Œì§€ ì­‰ ì½ê¸° ë•Œë¬¸ì— 
```
https://naver.com"> Link to naver</a> <a href="https://google.com
```
ì´ëŸ°ì‹ìœ¼ë¡œ ê²€ì¶œì´ ë˜ê¸° ë•Œë¬¸ì— ë¬¸ì œê°€ ëœë‹¤. .(dot)ì„ ì‹ ì¤‘íˆ ì¨ì•¼ í•œë‹¤..

```
import re # ì •ê·œí‘œí˜„ì‹ ì—°ìŠµí•˜ê¸° ì¢‹ì€ ë¬¸ì œ
from collections import defaultdict
def solution(word,pages):
    
    a = defaultdict(lambda :[0,0] )
    
    #p = re.compile()
    for idx,page in enumerate(pages):
        # í˜ì´ì§€ëª…
        #name = re.search('<meta.+ content=\"(.+)\"/>',page).group(1)
        name = re.search("<meta .+ content=\"(.+)\"/>" , page).group(1)
        # ì™¸ë¶€ë§í¬ ìˆ˜
        #link_list = re.findall('<a href=\"(.+)\".+>', page)
        link_list = re.findall('<a href=\"(.+)\">',page)
        link_cnt = len(link_list)
        # ê¸°ë³¸ ì ìˆ˜
        #p = re.compile('\W' + word.lower() + '\W').group(1)
        #base_score = len(re.findall(r'\W(' + word.lower() + ')\W', page.lower() ))
        base_score = len([ w for w in re.findall('[a-zA-Z]+',page.lower()) if w == word ])  
        #print(f'ì´ë¦„ : {name}, ë§í¬ : {link_list}, ê¸°ë³¸ì ìˆ˜ : {base_score}')
        # ê¸°ë³¸ ì ìˆ˜ ê³„ì‚°
        a[name][1] = idx
        a[name][0] += base_score
        # ë‹¤ë¥¸ ë§í¬ì˜ ë§í¬ ì ìˆ˜ ë¶€ì—¬
        for link in link_list:
            #print(f'{link}ì— ì ìˆ˜ {base_score/link_cnt}ì¶”ê°€')
            a[link][0] += (base_score / link_cnt)
        #print(a.items())
        #print()
    
    answer= sorted(a.items(), key = lambda x: (-x[1][0],x[1][1]) )    
    
    return answer[0][1][1]
```

- 3ì°¨ í’€ì´ (ì •ë‹µ)

```
import re
from collections import defaultdict
class Page:
    def __init__(self):
        self.normal = 0
        
    def update(self,normal,idx,link_list):
        self.normal = normal
        self.idx = idx
        self.link_list = link_list
        self.link_cnt = len(link_list)
        self.link_score = (self.normal / self.link_cnt) if self.link_cnt != 0 else 0
        
def solution(word,pages):
    html_dict = defaultdict(lambda : Page())
    word = word.lower()
    
    for i,p in enumerate(pages):
        # í˜ì´ì§€ ì´ë¦„
        page_name = re.search("<meta .+ content=\"(.+)\"/>", p).group(1)
        # ê¸°ë³¸ ì ìˆ˜
        normal_score = len([ w for w in re.findall('[a-zA-Z]+',p.lower()) if w == word ])
        # ì™¸ë¶€ ë§í¬ ìˆ˜
        ex_link_name = re.findall('<a href=\"(https://\S+)\">',p)
        html_dict[page_name].update(normal_score,i,ex_link_name)
    
    for k,v in html_dict.items():
        #print(k,v.link_list)
        for link in v.link_list:
            if link in html_dict:
                html_dict[link].normal += v.link_score
        #print(v.normal)
    answer = sorted([ (v.normal,v.idx) for k,v in html_dict.items() ] , key = lambda x: (-x[0],x[1]))
    #print(answer,max(answer, key = lambda x : (x[0],-x[1]))[1])
    #return max(answer, key = lambda x : (x[0],-x[1]))[1]
    return answer[0][1]   
```
